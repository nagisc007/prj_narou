# -*- coding: utf-8 -*-
"""Chapter 01: The pants.
"""
import os
import sys
sys.path.append(os.path.join(os.path.dirname(__file__), '../..'))
sys.path.append('storybuilder')

from storybuilder.builder import world as wd
from src.sagepants import config as cnf


# scenes
def sc_hardday(w: wd.World):
    hero, robber = w.hero, w.robber
    return w.scene("大変な日",
            w.tag.comment("現代日本かつ現代人で会社員で30程度と知らせるのはここしかない"),
            hero.remember().d("最後にパンツを君に履かせてからもう三年になるのか",
                "とスマートフォンに着信したメールの日付を見て", "唐突に思い出した"),
            hero.be(w.stage.train, w.day.deadman).d("相変わらず満員の電車はカーブに差し掛かり",
                "背中側に引っ張られるのを感じながら$meは上司から送られてきた『辞めないでくれ』という懇願の内容に",
                "一通り目を通す"),
            hero.think().d("ブラックだとは思わない"),
            hero.think().d("仕事内容に不満がある訳でもない"),
            hero.think().d("それでも入社して六年。",
                "一度として自分で何かを成し遂げた",
                "という充実感は得られなかった。",
                "このまま上から流れてきた指示通りにプログラムという小さな部品を作り続けても",
                "自分の人生には何も残らないんじゃないか",
                "そんな問いかけが生まれてしまっただけだ"),
            w.sufferer1.talk().t("……あ"),
            hero.look().d("ドア付近に立つ鞄を肩から下げた髪の短い女性だった。",
                "自分よりも少し若いくらいだろう。",
                "ノースリーブに短いスカートから出た脚が少し覗き見えたが",
                "その女性がもぞもぞと体を動かして移動しようとしている"),
            hero.look("痴漢現場").d("けれど周囲に立つ他の客に阻まれ",
                "そこから逃げ出せないでいるようだ"),
            hero.look().d("その彼女の右手側",
                "一人の別の女性を挟んだ先に",
                "暗灰色の帽子をしたマスク姿の男性が",
                "競馬新聞を持っていない方の左手をすっと",
                "その女性のスカートに差し入れたのが見えた"),
            hero.think().d("痴漢",
                "という言葉が真っ先に浮かんで",
                "$meはそっと体を捩りながらそっち足を進める"),
            hero.think().d("$i_herword001"),
            hero.think().d("そう言っていつも憤っていた元彼女は",
                "満員電車のない土地で元気にしているだろうか"),
            hero.look().d("男の手はその女性の臀部をまさぐっているのか",
                "スカートがややまくれ上がり気味になって小さく動いている"),
            hero.look().d("女性の顔は見えないが",
                "じっと我慢しているのかも知れないと考えると",
                "さっさとその苦悶から解放してあげたかった"),
            hero.think().d("もうすぐでその男の手を掴める"),
            hero.look().d("そう思った刹那", "男の手が彼女のスカートから引き抜かれた"),
            hero.look().d("$meはその手が掴んでいたものを目にして思わず心の中で唸ってしまう"),
            hero.look("下着ドロ").d("彼の手には四つの紐がだらりと垂れ下がる",
                "女性ものの布地面積の少ない白の下着が", "握られていたのだ。",
                "彼はそれをスマートフォンでも仕舞うかのような動作で",
                "自分のジャケットの内側へと差し入れる"),
            hero.deal().d("だがそれが完全に彼のものとなる前に",
                "$meの右手がそこから下着ごと引きずり出した"),
            hero.talk().t("この男",
                "痴漢だ"),
            hero.look().d("振り返ったマスクの男は",
                "やたらと血走った目を$meに向けたが",
                "観念したのか",
                "藻掻くことも否定することもせず",
                "ただ大人しくその下着を女性に差し出し",
                "こう言った"),
            robber.talk().t("あんたには似合わないパンツだ。",
                    "だから$meが供養してやろうとしたんだよ"),
            hero.hear().d("喉に下着を詰め込んだような",
                    "潰れた声だった"),
            hero.deal(robber, "捕まえる"),
            hero.deal("拍手される").d("$meの右拳が思い切りそいつの頬に叩きつけられると",
                    "車内から控えめに拍手が起こる"),
            hero.look().d("けれど下着を返してもらった彼女は俯いたままで",
                    "電車が停車してドアが開くと一目散にそこから逃げ出して行ってしまった"),
            )

def sc_accident(w: wd.World):
    hero, robber = w.hero, w.robber
    return w.scene("事故に遭う",
            hero.move(w.stage.sta_home).d("目的の駅ではなかったが",
                "一旦犯罪者を駅員に引き渡そうと思い", "ホームに降り立ったが、"),
            hero.talk().t("おい"),
            hero.deal().d("大人しくしていた痴漢男は$meの右手からするりと身を捻って抜け出すと",
                "そのまま車両の進行方向と反対側へと駆け出した"),
            hero.talk().t("待て！",
                "すみません！",
                "その男痴漢です！"),
            hero.think().d("僅かな油断だった"),
            hero.move().d("とにかく$meも後追いで駆け出したが",
                "人の多いホームではなかなか全速力で走ることもままならない"),
            hero.look().d("だがその痴漢男の方はこういった状況に慣れているのか",
                "上手く人を躱しながら駆け抜けていくと",
                "車両が切れたところで線路へと飛び降りる。",
                "そのまま駅を出ていこうという気だろう"),
            hero.think().d("逃がすかよ"),
            robber.go("逃亡"),
            hero.move().d("$meも後追いで飛び降りると",
                "心臓がどんどん熱くなるのも構わずに思い切り足を蹴る"),
            hero.think().d("もう少し。",
                "あと三メートル……"),
            hero.think().d("届かないか"),
            hero.look().d("踏切の遮断器が上がり",
                "男は道路側へと曲がる"),
            hero.think().d("逃げられる"),
            hero.think().d("そう思った時だった"),
            hero.look().d("$meの目の前を横っ飛びで痴漢男の体が吹き飛んでいく"),
            hero.look().d("続いてトラックの厳ついフロントが頭を覗かせたが",
                "そいつは真っ直ぐに進むことを拒否し",
                "運悪く",
                "$meの方へと向きを変えて",
                "正面からそのまま$meの意識を刈り取っていった"),
            hero.do("dead").d("そう。",
                "$meはちっぽけな正義感を振り回した挙句",
                "この世界を去ったのだ"),
            )

def sc_iampants(w: wd.World):
    hero, ery = w.hero, w.ery
    return w.scene("私はパンツ",
            hero.think().d("人は死んでもその意識というのはずっと消えないものなのだろうか"),
            hero.think().d("最初に感じたのは",
                "そんな疑問だった"),
            hero.think().d("普通なら意識が戻ったと感じることだろうが",
                "今の$meにとてもそんな悠長な思考はない。",
                "何故なら何も見えないし何も感じないからだ"),
            hero.think().d("それは$meが知る数少ない言葉から敢えて選ぶとすれば”無”。",
                "そう。",
                "一切が存在せず",
                "光だ闇だ",
                "男だ女だと騒ぐ必要もない",
                "完全な無の世界が",
                "どこまでも広がっているように感じられた"),
            hero.feel().d("感じる？"),
            hero.think().d("もう死んでしまったのにおかしな話だ。",
                "一体何を感じることができるというのだ。",
                "手を動かそうにも",
                "足を動かそうにも",
                "そんな感覚はどこにも見つけられない"),
            hero.be().d("ただ",
                "何だろう"),
            hero.think().d("何かの圧倒的な存在感が",
                "$meの心の一番奥底に眠るある感情をまさぐっていた"),
            hero.be(w.stage.lemurian, w.day.firstmeet),
            hero.be(w.pants),
            hero.think(w.i.myfuture),
            ery.talk().t("ほお。",
                "そなた",
                "$meが分かるのか"),
            hero.think().d("声",
                "という代物ではなかった。",
                "低く",
                "地面を揺るがすような振動を持っていたが",
                "それでもおそらくは女性のそれだと分かる"),
            hero.think().d("天国だか地獄だか知らないが",
                "その道案内でもしてくれる可愛らしい女性でもいるのか。",
                "それならさっさとその姿を見せて",
                "一瞬だけでいい",
                "自分が死んだことをちゃんと認識させてくれ"),
            hero.hear().d("だがそんなことを考えた$meに浴びせかけられたのは",
                "自分の体ごと震わすような圧倒的な高笑いだった"),
            ery.talk().t("何だ。",
                "お主はは$meに地獄送りにしてもらいたいのか？",
                "造作もないことだが……残念ながら今の$meでは少々それが難しくてな"),
            hero.think().d("何なのだろう", "この女。",
                "いやそれ以前に$meの言葉が通じているなら",
                "ずっと気になっていたことを質問してみるのが先だ"),
            hero.ask().t("なあ。",
                "あんたは$meの言葉が分かるようだから是非一つ確認したいことがあるんだが"),
            ery.ask().t("何だ？"),
            hero.ask().t("今の$me。",
                    "一体どうなっているんだ？",
                    "何も見えないし",
                    "ここは真っ暗なのか？",
                    "それに体を動かそうにも何の感触もない。",
                    "自分で自分のことがさっぱり分からないんだよ"),
            hero.hear().d("今度は噛み殺した笑いだった"),
            hero.ask().t("さっきからあんた何をそんな笑ってるんだ？",
                    "$meってそんな奇妙な格好させられてるのか？"),
            hero.think().d("会社の新入社員歓迎会で上司の命令で当時流行っていたアニメの女子のコスプレをさせられたことを思い出し",
                    "有り得ないほど短い丈のスカートからガーターベルト付きの真っ黒なストッキングの脚を見せてしまったあの恥辱が",
                    "何十回と脳裏を過って行った"),
            ery.ask().t("お主",
                    "自分が何者であるか",
                    "全く分かっておらぬ", "ということか？"),
            hero.reply().t("分かるも分からぬもないよ。",
                    "何も見えない感じない",
                    "そもそも口すらないみたいなのにどうして$meしゃべれてるんだ？"),
            hero.hear().d("小さな溜息だった"),
            hero.feel().d("けれどそれは何かの感触となって$meに伝わり",
                    "次の瞬間",
                    "今まで失われていた感覚が一気に戻ってしまったかのような激しい熱と痛みが襲ってくる"),
            hero.ask().t("あ、あんた",
                    "一体$meに何したんだ！？"),
            hero.think().d("熱いのが全身に広がると",
                    "今度はそれが一気に冷却されたみたいに意識ごと張り手をくらった感じで",
                    "$meは目を覚ました"),
            hero.do().d("そう。",
                    "目を",
                    "覚ますことが出来た",
                    "のだ"),
            )

def sc_prisoner(w: wd.World):
    hero, ery = w.hero, w.ery
    return w.scene("監獄の女",
            hero.look().d("最初に感じたのは",
                "薄闇の中にぼんやりと発光している地蔵くらいのサイズの何かだった。",
                "それが徐々にその輪郭をはっきりとさせ",
                "やがて髪の毛の置物のようになった女性が胡座を掻いて座っているようだ",
                "と判別できた"),
            hero.look().d("白いから発光しているように見えるのだろうか。",
                "それくらいに綺麗に透き通った肌に見える"),
            hero.look().d("顔は髪にその輪郭部分が覆われてしまっているが",
                "相当な小顔と言っていいだろう。",
                "きりっとした黄金色の瞳に",
                "赤紫の唇がよく目立つ"),
            hero.look().d("けれど何よりも奇異と感じさせたのは",
                "足元まで伸びる毛量の多い髪だ。",
                "色は部分的にピンクにも見える紫で",
                "頭から顔の隣を降りて",
                "二つの滝のようになって胸元を通り抜け",
                "臍のあたりで交差するように広がり",
                "それがひざ掛けのようになって彼女の脚を覆っていた"),
            hero.think().d("一番最初に浮かんだのは『髪ブラ』という言葉だった"),
            hero.look().d("けれど目の前のそれはブラなどという部分的な名称には収まりきらない",
                "正に髪のドレスと言ってしまって良かった"),
            hero.think().d("勘違いではないか",
                "と思って目を凝らすが",
                "滑らかな光沢を持つ髪の毛が額の上から切れ目なくずっと彼女の足元まで続いている"),
            ery.ask().t("$meの姿を見ても驚かぬとはな",
                "お主", "さてはただの阿呆だな？"),
            hero.look().d("小さな口がきゅっと曲がり",
                "楽しそうな笑い声と共に尖った小さな犬歯が見えた"),
            hero.talk().t("あんたが痴女でない限りは",
                "そういう格好でいる女性を$meはまともには見られないよ。",
                "とにかく服でも何でもいいから着てくれ"),
            hero.think().d("いつもなら理性も吹っ飛びそうなほどの下腹部の猛りを感じるだろうが",
                "流石に死にそうだったとこから目覚めたばかりなだけあって",
                "そんな劣情は一切感じない。",
                "寧ろ彼女を神々しいとさえ感じる。",
                "ミロのビーナスを前にして一心不乱にその曲線をスケッチブックに写し取る作業でもしているかのようだ"),
            hero.look().d("しかし目の前に座る女性",
                "一向に服を着ようとしない。",
                "これが本物の痴女というやつか",
                "と思いそうになったが",
                "もしかすると別の可能性があることに$meは気づいた"),
            hero.ask().t("ひょっとしてあんた",
                "服を持っていないのか？"),
            hero.look().d("だが彼女は目元を細めて眉間に皺を寄せただけだ"),
            hero.ask().t("$meが死んだか死んでいないかは一旦置いておくが",
                "今まであんたのことを天国に連れて行く天使的な",
                "あるいは地獄に連れていく鬼的な何かかと思っていたんだが",
                "そうだよな",
                "あんたも訳が分からないまま今ここで目を覚ましたばかりということだって有り得るし",
                "そう考えるのが自然だった。",
                "とすると何だ。",
                "$meも今素っ裸だったりするのか？"),
            hero.look().d("そう考えると急に羞恥心が湧き上がってきて",
                    "$meは慌てて自分の体を確認しようとした"),
            hero.think().d("ん？"),
            hero.behav().d("$meは自分の体を確認しようとした"),
            hero.think().d("あれ？"),
            hero.behav().d("$meは自分の体を……"),
            ery.ask().t("何を", "しておるのだ？"),
            hero.talk().t("いやな",
                    "どういう訳か自分の体が見れないんだ。",
                    "そもそも見えるようになったのに手も足も動かないし",
                    "顔も動かせないみたいだし……。",
                    "すまないが",
                    "今の$meってその",
                    "何も着ていない状態だったりするのか？"),
            hero.hear().d("その言葉に",
                    "彼女は再び大きな声を上げて笑った"),
            hero.talk().t("だから何がおかしいんだ？",
                    "こっちはこれでも相当困っているんだぞ。",
                    "いや$meだけじゃない。",
                    "あんただってそうだろう？"),
            ery.talk().t("まあ確かに困っておるが……"),
            hero.talk().t("だろう？",
                    "だったらここはお互いに協力してだな",
                    "この不毛な状況を何とか打開するというのが",
                    "同じ人間としての使命じゃないだろうか"),
            hero.hear().d("しかし彼女は喉の奥を鳴らして笑いを呑み込むと",
                    "一際声を低くしてこう告げた"),
            ery.talk().t("人間？",
                    "$meが人間だと言うのか？",
                    "そもそもお主だってとても人には見えぬぞ"),
            hero.think().d("ずっと最初から違和感があった"),
            hero.ask().t("何……て？"),
            hero.think().d("目覚める前",
                    "痴漢男を追いかけていて向かってきたトラックに轢き殺されたはずの自分の意識が",
                    "ここで蘇った時からずっとだ。",
                    "目が見えないことへの不安や不思議が",
                    "その正体だと思っていた"),
            ery.talk().t("折角見えるようにしてやったのに",
                    "それだけで不満とはな"),
            hero.think().d("次には女の声が聴こえてきたことで",
                    "その正体の知れぬ彼女への不信感から来る何かだと思い込んでいた"),
            ery.talk().t("わかった。",
                    "ではそこに鏡を作るから", "それでよく己の姿を確認するが良かろう"),
            hero.look().d("彼女はそう言うとおもむろに立ち上がり",
                    "それから背を向けて屈み込んだ"),
            ery.talk().t("しばし待っておれ"),
            hero.look().d("何だろう。",
                    "きゅっと締まった剥き出しの女性の臀部が",
                    "二つに割れているのがよく見える"),
            hero.talk().t("な、何する気だ！？"),
            hero.behav().d("$meは慌てて目を閉じたが",
                    "彼女は全く気にしていないようで",
                    "何も見ないように",
                    "何も想像しないようにしている$meの耳には",
                    "暫くするとチロチロという妙な音が響いてきた"),
            hero.think().d("それは夏の炎天下から逃げ出した彼女が",
                    "体操着のまま水道の蛇口を捻った時に思ったよりも水量がなく",
                    "線のように細い流れが下のコンクリへと届いて",
                    "ピチピチと跳ねて運動靴の上の白く端が丸まった靴下を履く足へと掛かった",
                    "そんな場面を想起させる音だった"),
            ery.talk().t("もう目を開けて良いぞ"),
            hero.look().d("ふぅ", "という彼女の吐息に続いてそう促され",
                    "$meはおずおずと目を", "左側から開ける。",
                    "最初は薄目にして",
                    "彼女が元の位置に再び胡座で座っているようだと確認できてから",
                    "右側の目も開けた"),
            hero.look().d("彼女と$meの間には", "小さな泉が生まれていた"),
            hero.look().d("それはおそらく", "いや間違いなく",
                    "彼女から絞り出された体液の一部なのだが",
                    "どういう訳か匂いも何も感じない。",
                    "それどころか淡く光を放ち",
                    "表面が鏡のように周囲の様子を映し込んでいる"),
            hero.look().d("だから$meは躊躇することなく",
                    "そこに映っている何かの姿を見やった"),
            hero.think().d("あ……"),
            hero.think().d("初めて鏡を目にした動物の心境というのは",
                    "こんな感じなのかも知れない"),
            hero.look().d("そこに映るものが何か",
                    "と問われれば",
                    "$meは自分のなけなしの語彙の中から人間以外のものを引っ張り出してこなければならない"),
            hero.look().d("少なくとも人ではなかった"),
            hero.look().d("それどころか",
                    "そいつは手も足もない。",
                    "寧ろ手足があったら恐い"),
            ery.ask().t("分かったであろう？",
                    "お主は人ではない"),
            hero.look().d("彼女の言う通り",
                    "本当に人ではなかった"),
            hero.think().d("それはその他の動物", "いやもっと言えば生物ですらない"),
            hero.look().d("輪郭を取れば平たい三角形を更に横に引き伸ばしたように見える。",
                    "おそらく$meが立ち上がれていたなら",
                    "それはもっと立派な小さい三角形をした何かに見えただろう"),
            ery.ask().t("よく見えぬか？",
                    "ならば$meがじっくりと見せてやろう"),
            hero.talk().t("い、いや",
                    "そこまでしなくても大丈夫だ"),
            ery.talk().t("何故恥ずかしがるのか分からんが",
                    "全身を見られないというのもつまらない。",
                    "しっかりと自分の目で今一度",
                    "己が何者なのかを確認すると良い"),
            hero.talk().t("ああぁぁ", "やめろ！", "やめてくれ！",
                    "$meは絶対に見んぞ！",
                    "どうして自分のこんな姿を見なきゃいけないんだ！"),
            hero.deal().d("だが暴れようにも手足がない"),
            hero.deal().d("$meの体は立ち上がったその女の手によって軽々と掴まれ",
                    "鏡となった水面に",
                    "ご丁寧にもわざわざしっかりと広げた姿を映し出された"),
            hero.think().d("パンツ"),
            hero.look().d("それは小学生低学年の児童が履くような",
                    "犬のイラスト付きのパンツだった"),
            hero.look().d("$meの目はどうやらその正面を見ている犬の目らしく",
                    "くりっとして愛らしいとは思うが",
                    "パンツに張り付いた単なるイラストとなった自分をまじまじと見させられるのはただの拷問ではないか",
                    "と思わなくもない"),
            hero.talk().t("$meは",
                    "本当にパンツ", "なのか……"),
            hero.look().d("一縷の望みを懸けて口を動かしてみたが",
                    "イラストの犬の口は全く動く気配がない"),
            hero.look().d("女は口元を覆って笑いを噛み殺しているが",
                    "彼女には一体どうやってこのパンツの声が届いているのだろう"),
            ery.talk().t("お主の声は$meにしか届いておらんよ。",
                    "ただの思念として発することしかできんようだからな"),
            hero.look().d("彼女は$meの顔が正面になるように自分を向けてパンツの端を持つと",
                    "じっくりと見やってから小首を傾げる"),
            ery.ask().t("ところで先程からお主が言っておる",
                    "その”パンツ”とやらは何なのだ？"),
            hero.be(w.stage.prison),
            hero.meet(ery),
            )

def sc_mypants(w: wd.World):
    hero, ery = w.hero, w.ery
    return w.scene("パンツ装着",
            hero.think().d("パンツとは何なのか"),
            hero.think().d("それを$meは即座に「下着のことだ」とは言えなかった。",
                "何故なら三年前に別れた彼女の遺言にも似た最後の言葉が、"),
            hero.hear().emphasis("$i_herword002"),
            hero.think().d("だったからだ"),
            ery.ask().t("どうした？",
                "何か答えるのに不都合でもあるのか？"),
            hero.talk().t("あんたはパンツを身に着けていない。",
                "それに加えて裸のようだ。",
                "だからひょっとしたら下着を含めた衣類を身に着けるという文化がないのかも知れない。",
                "そういう前提で話させてもらうが",
                "いいか？"),
            hero.look().d("彼女はその言葉に眉を顰めていたが",
                "ゆっくりと縦に首を振ったのを確認すると",
                "$meは滔々とパンツについて語り始めた"),
            hero.talk().t("パンツとは股間を含めた下腹部の一部を覆う着衣の一種だ。",
                "着衣",
                "つまり服を着ることで様々な恩恵を受けることができる。",
                "中でも下着と呼ばれるものは肌着とも呼ばれ",
                "皮膚の上に直接身に着けるように設計されている"),
            hero.look().d("最初は首を傾げ気味だった彼女も",
                "$meが仕事の時のような語り口になったからか",
                "集中して聞き入っているように見えた"),
            hero.talk().t("人間というのは思っている以上に日々汚れ",
                "またその常在菌と呼ばれる微生物は皮膚の上で老廃物となり蓄積する。",
                "そういう体表上の汚れ", "あるいは汗のような分泌物を下着は吸収し",
                "それを付け替えることで人間は己の体を清潔に保つという手段を手に入れたんだ"),
            hero.look().d("長い髪で覆い隠されていたが",
                "彼女はその一部を持ち上げ", "自分の体を確かめるように見始める"),
            hero.talk().t("その肌着の内で主に股の部分を中心に覆うようになっているものがパンツだ。",
                "あんたがさっきした",
                "その",
                "おしっこのように",
                "人は食べたもの飲んだものを排出する。",
                "そこはとても不衛生となる。",
                "だからこそ普段パンツで覆い",
                "生活することで",
                "自分を", "そして周りを汚染せずに済むという訳だ"),
            hero.think().d("もっと言えばデザインやオシャレといった精神性の問題もあるが",
                "目の前の女にそういった説明をしても混乱を招くだけだろうと思って敢えて省いた"),
            hero.talk().t("パンツが何か", "分かったか？"),
            ery.talk().t("そうだな……つまりだ。",
                "パンツとは身に着けるものであり",
                "$meは今裸だ。",
                "本来であれば$sagerobeという法衣を身に着けておったのだが",
                "事情があって今", "$meの手元にはないのだ"),
            hero.look().d("彼女は$meの端を両手で持ったままにっこりと笑みを向ける"),
            hero.talk().t("わ、分かってくれたなら良かったよ"),
            hero.feel().d("ぞわり", "という妙な悪寒に$meの警戒心が顔を覗かせた"),
            hero.look().d("何だろう。",
                    "目の前の女性は紫の髪で胸元から下までを覆い隠して立っていたが",
                    "その片方の足が不意に持ち上がる"),
            hero.look().d("右足だ"),
            hero.look().d("続いて少し背を曲げるようにして屈み込むと",
                    "$meの視界はぐんぐんと下降していき",
                    "ほど良い二つの丘から",
                    "肉付きのよい腹部",
                    "形の良い臍を経て",
                    "何もないつるりとした彼女の下腹と",
                    "その先に存在するであろう女性の排泄器官までが見えてしまう"),
            hero.look().d("そう思った瞬間だった"),
            ery.ask().t("ところでお前には前と後ろがあるのか？"),
            hero.talk().t("パンツの前後ろのことだったら",
                    "確かに存在する。",
                    "犬のイラストが付いている方が前だ"),
            hero.think().d("そう答えながらも$meは何を言っているのだろう",
                    "という意識がどうしても脳裏から離れてくれない。",
                    "そればかりか",
                    "彼女の質問からはどう考えても",
                    "ある結果しか導かれないではないか"),
            ery.talk().t("そうか。",
                    "ならばこういうことか"),
            hero.look().d("刹那",
                    "$meの視界は横回りで百八十度振り回され",
                    "この薄暗い空間の壁へと向けられる"),
            hero.feel().d("それに続いて自分のお腹が内部から広げられたような",
                    "何とも胸苦しさを覚える感覚が湧き上がり",
                    "もそもそと何かが動く気配を背中側に強烈に感じさせられた"),
            hero.talk().t("あぅ！？"),
            hero.feel().d("何かが",
                    "$meの右半身を貫いていった"),
            hero.think().d("痛みを伴った衝撃ではないが",
                    "何と表現したものだろう。",
                    "ムズムズとするような", "痛痒感とでも呼べばいいのだろうか。",
                    "それがずっと右半分に張り付いている"),
            hero.feel().d("けれどそれはすぐ残りの左半分にもやってきた"),
            hero.talk().t("ひゃう！"),
            ery.talk().t("妙な声を上げるでない"),
            hero.talk().t("け、けどな。",
                    "あんた一体何をしたんだ？"),
            hero.look().d("一瞬潰れたように歪んだ視界は",
                    "今は明瞭だった。",
                    "少しは目も慣れてきたのだろう。",
                    "壁は岩肌で",
                    "視界の切れ端に鉄の棒のようなものが見える"),
            ery.talk().t("ほお……これは", "なかなかに"),
            hero.feel().d("彼女の手が",
                    "$meに触れる。",
                    "それは分かる。",
                    "けれどその内側にあるものは一体何だ"),
            hero.think().d("考えろ。",
                    "今どういう状況なんだ"),
            ery.talk().t("何をごちゃごちゃと言っておる。",
                    "お主はパンツ。",
                    "そして$meは外見上は人間の姿をしておる。",
                    "ならば自ずと答えは導かれよう"),
            hero.talk().t("嘘、だろ……"),
            hero.hear().d("彼女は声を殺して笑う"),
            hero.look().d("確かに少し考えれば分かることだった。",
                    "さっき彼女に持たれていた時よりも随分と視界が低い。",
                    "それは彼女の顔の高さより低い位置だということだ。",
                    "それに目の前には部屋の様子が広がっていることから",
                    "彼女の方を見ていないということになる"),
            hero.think().d("自明", "というやつだ"),
            hero.think().d("そうだ。",
                    "つまり$meは彼女に……"),
            hero.talk().t("履かれているのか！？"),
            ery.talk().t("お主が言ったではないか。",
                    "パンツは履くものだと"),
            hero.think().d("そう認識した瞬間",
                    "自分の内側に女性のアレやソレやコレが密着しているのだということに気づいて",
                    "$meは思考に急ブレーキを掛けた"),
            ery.deal("身に着ける", hero),
            hero.feel("衝撃"),
            )

def sc_outofprison(w: wd.World):
    hero, ery = w.hero, w.ery
    return w.scene("監獄の外は異世界でした",
            hero.know(w.i.anotherworld),
            ).omit()

def sc_herpower(w: wd.World):
    hero, ery = w.hero, w.ery
    gater1 = w.gater1
    return w.scene("彼女の力",
            ery.deal("battle", gater1),
            hero.know("彼女の強さ"),
            ).omit()

# episodes
def ep_herodead(w: wd.World):
    return (w.chaptertitle("太郎、死す"),
            sc_hardday(w),
            sc_accident(w),
            )

def ep_wonderworld(w: wd.World):
    return (w.chaptertitle("不可思議な世界で"),
            sc_iampants(w),
            sc_prisoner(w),
            )

def ep_meetpants(w: wd.World):
    return (w.chaptertitle("そしてパンツは出会った"),
            sc_mypants(w),
            sc_outofprison(w),
            sc_herpower(w),
            )

# outline
def baseinfo(w: wd.World):
    return [("chapter 1", story(w), w.hero, w.ery),]

def outline(w: wd.World):
    return [
            ("chapter 1", story(w),
                w.hero.think(w.i.myfuture),
                w.hero.be(w.pants),
                w.hero.know(w.i.anotherworld),
                w.hero.meet(w.ery),
                True),
            ]
# main
def story(w: wd.World):
    return (w.maintitle("１枚目：パンツ、大地に立つ！"),
            ep_herodead(w),
            ep_wonderworld(w),
            ep_meetpants(w),
            )


def main(): # pragma: no cover
    from src.sagepants.story import world
    w = world()
    return w.build(story(w))


if __name__ == '__main__':
    import sys
    sys.exit(main())

